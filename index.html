<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>translate3d App Startseite</title>
    <link rel="stylesheet" href="landing.css" />
  </head>
  <body>
    <main class="landing">
      <section class="homescreen" aria-label="App Ãœbersicht mit Projektlinks">
        <div class="homescreen-top">
          <p class="home-time">09:41</p>
          <h1>Meine Projekte</h1>
          <p class="home-subtitle">App-Ãœbersicht mit GitHub-Repositories</p>
        </div>

        <div class="app-grid">
          <button class="app-icon app-icon-main" type="button" data-name="Bestellapp" data-src="repos/Bestellapp/index.html" aria-label="Bestellapp laden">
            <img src="logo.svg" alt="Projekt Logo" />
            <span>Bestellapp</span>
          </button>
          <button class="app-icon" type="button" data-name="Pokedex" data-src="repos/Pokedex/index.html"><span class="icon-fill">ğŸ§©</span><span>Pokedex</span></button>
          <button class="app-icon app-icon-disabled" type="button" data-name="address_book" disabled title="Keine index.html vorhanden"><span class="icon-fill">ğŸ“‡</span><span>address_book</span></button>
          <button class="app-icon app-icon-disabled" type="button" data-name="python_image_scaler" disabled title="Keine index.html vorhanden"><span class="icon-fill">ğŸ–¼ï¸</span><span>python_image_scaler</span></button>
          <button class="app-icon app-icon-disabled" type="button" data-name="join-backend" disabled title="Keine index.html vorhanden"><span class="icon-fill">ğŸ› ï¸</span><span>join-backend</span></button>
          <button class="app-icon" type="button" data-name="tic-tac-toe" data-src="repos/tic-tac-toe-prompt-engineering/index.html"><span class="icon-fill">â­•</span><span>tic-tac-toe</span></button>
          <button class="app-icon" type="button" data-name="3D-CSS-LernApp" data-src="repos/3D-CSS-LernApp/index.html"><span class="icon-fill">ğŸ§ </span><span>3D-CSS-LernApp</span></button>
          <button class="app-icon" type="button" data-name="Testprojekt" data-src="repos/Testprojekt/index.html"><span class="icon-fill">ğŸ§ª</span><span>Testprojekt</span></button>
          <button class="app-icon" type="button" data-name="Bookstore" data-src="repos/Bookstore/index.html"><span class="icon-fill">ğŸ“š</span><span>Bookstore</span></button>
        </div>

        <div class="home-dock">
          <button class="cta" id="dockOpenButton" type="button">Bestellapp Ã¶ffnen</button>
        </div>
      </section>

      <section class="phone" aria-label="Handy-Vorschau der App">
        <div class="phone-notch"></div>
        <div class="phone-screen">
          <iframe id="appPreview" src="repos/Bestellapp/index.html" title="App Vorschau"></iframe>
        </div>
      </section>
    </main>
    <script>
      const previewFrame = document.getElementById("appPreview");
      const dockOpenButton = document.getElementById("dockOpenButton");
      const appButtons = Array.from(document.querySelectorAll(".app-grid .app-icon[data-src]"));

      let activeSrc = previewFrame?.getAttribute("src") || "";
      let activeName = "Bestellapp";

      const setActiveButton = (clickedButton) => {
        appButtons.forEach((button) => button.classList.remove("is-active"));
        clickedButton.classList.add("is-active");
      };

      const updatePreview = (button) => {
        const nextSrc = button.dataset.src;
        const nextName = button.dataset.name || "App";
        if (!nextSrc || !previewFrame) {
          return;
        }
        activeSrc = nextSrc;
        activeName = nextName;
        previewFrame.src = nextSrc;
        dockOpenButton.textContent = `${nextName} Ã¶ffnen`;
        setActiveButton(button);
      };

      appButtons.forEach((button) => {
        button.addEventListener("click", () => updatePreview(button));
      });

      dockOpenButton.addEventListener("click", () => {
        if (activeSrc) {
          window.open(activeSrc, "_blank", "noopener,noreferrer");
        }
      });

      if (appButtons.length > 0) {
        setActiveButton(appButtons[0]);
      }
      dockOpenButton.textContent = `${activeName} Ã¶ffnen`;
    </script>
  </body>
</html>
